import Command from '@shopify/cli-kit/node/base-command';
import { output, error } from '@shopify/cli-kit';
import { checkForNewVersion, packageManagerUsedForCreating } from '@shopify/cli-kit/node/node-package-manager';
export default class Version extends Command {
    async run() {
        const cliDependency = '@shopify/cli';
        const currentVersion = this.getCurrentVersion();
        output.info(output.content `Current ${Version.description}: ${output.token.yellow(currentVersion)}`.value);
        const lastVersion = await checkForNewVersion(cliDependency, currentVersion);
        if (lastVersion) {
            const packageManager = packageManagerUsedForCreating();
            output.info(output.getOutputUpdateCLIReminder(packageManager === 'unknown' ? 'npm' : packageManager, lastVersion));
        }
        throw new error.CancelExecution();
    }
    getCurrentVersion() {
        return this.config.version;
    }
}
Version.description = 'Shopify CLI version';
//# sourceMappingURL=version.js.map